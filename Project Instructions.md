## **Objective**:
We are building a web app that accepts PDF documents (containing newspaper pages in image form), extracts individual pages, and responds to user queries based on the content of these pages. The system will use the **Gemini 1.5 Flash model**, which is capable of multi-modal document parsing (e.g., PDFs with text, tables, images, etc.) due to its ability to both "see" and "read" the content.

## **Key Features**:

1. **PDF Upload with Metadata**:
   - The user will upload PDFs of newspapers and provide additional metadata such as:
     - **Publication Name**: The name of the newspaper (e.g., Times of India).
     - **Edition**: The specific edition of the newspaper (e.g., Chandigarh, Ahmedabad, Pune).
     - **Date**: The date corresponding to the newspaper edition (provided by the user).

2. **PDF Page Extraction**:
   - The system will extract individual pages from the uploaded PDFs and convert them into **image** format.
   - For each page, a unique **ID** will be generated by concatenating the **Source** (PDF file name) and the **Page Number**.
   - Each page will be associated with the following metadata:
     - **Source**: The PDF file name.
     - **Publication Name**: Provided by the user during upload.
     - **Edition**: Provided by the user during upload.
     - **Date**: Provided by the user during upload.
     - **Page Number**: The page number within the PDF.
     - **ID**: Concatenation of Source and Page Number.

3. **Query Processing**:
   - Users will input a query related to the content of the uploaded newspaper pages.
   - The system will process one page at a time, sending the **page image** and associated metadata to the Gemini 1.5 Flash model to retrieve a relevant response.
   - The **page ID** will be used to associate each page's respective response.

4. **Delayed API Submission with Rate-Limiting**:
   - After the user uploads the PDF(s), pages are **not** immediately sent to the Gemini API.
   - Instead, pages are sent when the user submits a query.
   - Due to the free-tier rate limit of **15 requests per minute**, the system will:
     - Send the **first 15 images** (one per request) in parallel with the query.
     - Wait for **one minute** before sending the next batch of 15 images.
     - This process will continue until all pages are processed.

5. **Multi-modal Processing**:
   - The system will leverage the multi-modal capability of the **Gemini 1.5 Flash model** to process images of newspaper pages, enabling it to "see" and "read" the content (e.g., tables, images, text) on each page.

6. **Stage 1 Focus**:
   - In Stage 1, the system will query **multiple editions** of a single publication. For example, querying all relevant pages from the **Times of India** across different editions (e.g., Chandigarh, Ahmedabad, Pune) based on the user's query.
   - Each edition's pages will have their own response, identified by their **page ID**.

## **Development Components**:

1. **Backend**:
   - **PDF Upload API**: Create an endpoint that accepts PDF uploads along with user-provided metadata (Publication Name, Edition, Date).
   - **Page Extraction & Metadata**: Implement logic to extract individual pages, convert them into images, and associate each page with its metadata and unique ID.
   - **Query API**: Develop an API that accepts user queries, sends individual page images with their metadata to the Gemini API, and returns a relevant response.
   - Implement rate-limited batch processing for queries (15 requests per minute).

2. **Frontend**:
   - A simple UI allowing users to:
     - Upload PDFs and provide metadata (Publication Name, Edition, Date).
     - Input queries related to the newspaper pages.
     - View the results of the queries, with responses associated with the corresponding page IDs.

3. **Model Integration**:
   - Integrate the **Gemini 1.5 Flash model** to handle multi-modal document processing (images of newspaper pages).
   - Use the code from `Gemini_PDF.ipynb` for interacting with the Gemini API, ensuring that each page image and its metadata are sent to the model for querying.

## **Initial Testing**:
For initial testing:
   - Process **one query at a time**, focusing on querying individual pages extracted from multiple newspaper editions.
   - Ensure that rate limits are respected and that responses are correctly associated with their respective page IDs.